<!DOCTYPE html>
<html lang="">
  
  <head>
  <meta charset="UTF-8">
  <title>Yolanda's Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#157878">
  <link rel="stylesheet" href="/css/normalize.css">
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/cayman.css">
</head>

  <body>
    <section class="page-header">
  <h1 class="project-name">Yolanda's Blog</h1>
  <h2 class="project-tagline">Always keep mind sharp</h2>
  <a href="#" class="btn">View on GitHub</a>
</section>

    <section class="main-content">
      
      <h2>对于Java中override的小思考</h2>
<p class="meta">15 Nov 2016</p>

<p>对于以下代码的执行结果还是有点儿在我意料之外的,经过stackOverFlow的解释,对java中Override的方法有了一点新的认识,之前的理解还是不够深入.</p>

<!--more-->
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Father</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"father.print"</span><span class="o">);</span>
        <span class="k">this</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="mi">10</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"father.print n="</span> <span class="o">+</span> <span class="n">n</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Child</span> <span class="kd">extends</span> <span class="n">Father</span> <span class="o">{</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"child.print"</span><span class="o">);</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">print</span><span class="o">(</span><span class="kt">int</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"child.print n="</span><span class="o">+</span><span class="n">n</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Child</span> <span class="n">child</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Child</span><span class="o">();</span>
        <span class="n">child</span><span class="o">.</span><span class="na">print</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>这个main函数的执行结果是什么呢?其实我本来认为应该是这样的:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>child.print
father.print
father.print n=10
</code></pre></div></div>
<p>实际上却是:</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>child.print
father.print
child.print n=10
</code></pre></div></div>

<p>这其实是对于this这个隐藏传递的理解.
当新的child调用print时,<strong>隐藏传递了this是一个child 实例</strong>,当显示调用super.print()时,调用的是child,super.print(),所以会进入到Father类中的方法,但是super是不会传递的,所以当第二个调用有参数版本print时,会继续调用用child.print().</p>

<p>当然啦,如果Child类没有重写print(int n)这个方法,还是会打印出father.print n=10的~</p>


      <footer class="site-footer">
  <span class="site-footer-owner"><a href="http://localhost:4000">Yolanda's Blog</a> is maintained by <a href=""></a>.</span>
  <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
</footer>


    </section>

  </body>
</html>
